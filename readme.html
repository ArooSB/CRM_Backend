<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRM Backend Application</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #F4D9D0;
            color: #333;
            margin: 0;
            padding: 20px;
        }
        h1, h2, h3 {
            color: #921A40;
        }
        h1 {
            font-size: 36px;
        }
        h2 {
            font-size: 28px;
        }
        h3 {
            font-size: 24px;
        }
        p, li {
            font-size: 18px;
        }
        code {
            background-color: #D9ABAB;
            padding: 2px 4px;
            font-size: 16px;
            border-radius: 3px;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
        }
        ul {
            list-style-type: disc;
            margin-left: 20px;
        }
        pre {
            background-color: #D9ABAB;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
        .highlight {
            background-color: #F4D9D0;
            padding: 5px 10px;
            border-left: 5px solid #C75B7A;
            margin: 10px 0;
        }
        .code-block {
            background-color: #F4D9D0;
            padding: 10px;
            border-left: 5px solid #C75B7A;
            margin-bottom: 20px;
        }
        a {
            color: #921A40;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>CRM Backend Application</h1>

    <p>Welcome to the documentation for the <strong>CRM Backend Application</strong>. This application is built using the Flask framework and provides a backend system for managing customer relationships, sales leads, interactions, and support tickets.</p>

    <h2>Features</h2>
    <ul>
        <li><strong>JWT-based Authentication</strong> for secure login and worker registration.</li>
        <li><strong>Role-based Access Control</strong> to protect access to sensitive data.</li>
        <li>Full <strong>CRUD operations</strong> for managing:</li>
        <ul>
            <li>Workers</li>
            <li>Customers</li>
            <li>Sales Leads</li>
            <li>Interactions</li>
            <li>Support Tickets</li>
            <li>Analytics</li>
        </ul>
        <li><strong>Automated Ticket Assignment</strong> based on worker availability.</li>
        <li><strong>Notification System</strong> for new leads and support tickets.</li>
        <li><strong>Summary Report Generation</strong> for analytics and business metrics.</li>
    </ul>

    <h2>Project Structure</h2>
    <div class="highlight">
        <pre>
crm_backend/
├── .venv/
├── backend/
│   ├── __init__.py
│   ├── config.py
│   ├── manage.py
│   ├── models.py
├── instance/
│   └── crm.db
├── migrations/
├── routes/
│   ├── __init__.py
│   ├── analytics.py
│   ├── customers.py
│   ├── interactions.py
│   ├── sales_leads.py
│   ├── support_tickets.py
│   └── workers.py
├── services/
│   ├── auto_assignment.py
│   ├── notifications.py
│   └── reports.py
        </pre>
    </div>

    <h3>Key Folders and Files</h3>
    <ul>
        <li><strong>backend/</strong> – Contains core application logic, configurations, and the main entry point.</li>
        <li><strong>routes/</strong> – Handles API routing and CRUD operations for entities such as customers, sales leads, and tickets.</li>
        <li><strong>services/</strong> – Provides additional functionalities like auto-assignment of tickets, notification system, and report generation.</li>
        <li><strong>migrations/</strong> – Stores database migration files.</li>
        <li><strong>instance/</strong> – Contains the SQLite database file (<code>crm.db</code>).</li>
    </ul>

    <h2>Installation</h2>
    <p>Follow the steps below to set up and run the CRM Backend Application:</p>

    <h3>1. Prerequisites</h3>
    <ul>
        <li>Python 3.x</li>
        <li>Flask framework</li>
        <li>SQL Database (SQLite)</li>
    </ul>

    <h3>2. Setup Instructions</h3>
    <div class="code-block">
        <pre><code>git clone https://github.com/yourusername/crm_backend.git
cd crm_backend
pip install -r requirements.txt</code></pre>
    </div>

    <h3>3. Configure the Database</h3>
    <p>Edit the <code>config.py</code> file with your database settings:</p>
    <div class="code-block">
        <pre><code>SQLALCHEMY_DATABASE_URI = 'sqlite:///instance/crm.db'
SECRET_KEY = 'your_jwt_secret_key'</code></pre>
    </div>

    <h3>4. Run Database Migrations</h3>
    <div class="code-block">
        <pre><code>python manage.py db init
python manage.py db migrate
python manage.py db upgrade</code></pre>
    </div>

    <h3>5. Run the Application</h3>
    <div class="code-block">
        <pre><code>python app.py</code></pre>
    </div>

    <p>Now, you can access the application at <code>http://localhost:5000</code>.</p>

    <h2>API Endpoints</h2>
    <p>Here are the main API endpoints:</p>

    <ul>
        <li><code>/api/workers/register</code> – Register a new worker.</li>
        <li><code>/api/workers/login</code> – Login and receive a JWT token.</li>
        <li><code>/api/customers</code> – Create and manage customers.</li>
        <li><code>/api/sales_leads</code> – Create and manage sales leads.</li>
        <li><code>/api/interactions</code> – Create and manage interactions.</li>
        <li><code>/api/support_tickets</code> – Create and manage support tickets.</li>
        <li><code>/api/analytics</code> – View analytics and summary reports.</li>
    </ul>

    <h2>License</h2>
    <p>This project is licensed under the MIT License.</p>
</div>

</body>
</html>
